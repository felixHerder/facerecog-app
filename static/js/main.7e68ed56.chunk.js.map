{"version":3,"sources":["components/ProfileIcon/ProfileIcon.js","components/Navigation/Navigation.js","components/Logo/charlie.jpg","components/Logo/Logo.js","components/Rank/Rank.js","components/Spinner/Spinner.js","components/Signin/Signin.js","components/Register/Register.js","components/FaceRecognition/FaceRecognition.js","components/ImageLinkForm/ImageLinkForm.js","components/Footer/Footer.js","components/Modal/Modal.js","components/Profile/Profile.js","App.js","index.js"],"names":["ProfileIcon","props","toggle","setState","prevState","dropdownOpen","state","className","Dropdown","isOpen","this","DropdownToggle","tag","src","alt","DropdownMenu","right","style","background","DropdownItem","onClick","toggleModal","onRouteChange","React","Component","Navigation","isSignedin","Logo","options","max","height","width","face","mixBlendMode","Rank","user","useState","emoji","setEmoji","useEffect","entries","fetch","process","then","resp","json","data","input","catch","err","console","log","name","username","Spinner","isActive","Signin","onUserChange","event","signInUser","target","value","onPasswordChange","signInPassword","onKeyDown","code","onSubmitSignIn","saveAuthTokeninSession","token","window","localStorage","setItem","failedmessage","method","headers","body","JSON","stringify","password","res","userId","succes","loadUser","id","htmlFor","type","required","autoComplete","onChange","Register","onSubmitRegister","FaceRecognition","imageUrl","boxArr","handleEnter","document","querySelectorAll","forEach","box","classList","handleLeave","length","map","index","onMouseEnter","onMouseLeave","top","top_row","left","left_col","right_col","bottom","bottom_row","toString","slice","ImageLinkForm","placeholder","onInputChange","onButtonSubmit","Footer","href","title","viewBox","d","modalRoot","getElementById","Modal","el","createElement","appendChild","removeChild","ReactDOM","createPortal","children","Profile","isProfileOpen","color","pet","profile","setProfile","Date","joined","toLocaleDateString","defaultValue","e","getItem","particlesOptions","particles","number","density","enable","value_area","move","speed","links","distance","opacity","initialState","route","App","calculateBoxLocation","outputs","caiBboxArray","regions","reg","bbox","region_info","bounding_box","concepts","image","Number","filter","b","displaySwagBox","response","count","Object","assign","removeItem","params","render"],"mappings":"seA8CeA,E,kDAtCb,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAKRC,OAAS,WACP,EAAKC,UAAS,SAAAC,GAAS,MAAK,CAC1BC,cAAeD,EAAUC,kBAN3B,EAAKC,MAAQ,CACXD,cAAc,GAHC,E,0CAWnB,WAAU,IAAD,OACP,OACE,qBAAKE,UAAU,aAAf,SACE,eAACC,EAAA,EAAD,CAAUC,OAAQC,KAAKJ,MAAMD,aAAcH,OAAQQ,KAAKR,OAAxD,UACE,cAACS,EAAA,EAAD,CACEC,IAAI,OACJ,cAAY,WACZ,gBAAeF,KAAKJ,MAAMD,aAH5B,SAKE,qBACEQ,IAAI,kCACJN,UAAU,mBAAmBO,IAAI,aAErC,eAACC,EAAA,EAAD,CACEC,OAAK,EACLT,UAAU,eACVU,MAAO,CAAEC,WAAY,2BAHvB,UAIE,cAACC,EAAA,EAAD,CAAcC,QAASV,KAAKT,MAAMoB,YAAlC,0BACA,cAACF,EAAA,EAAD,CAAcC,QAAS,kBAAM,EAAKnB,MAAMqB,cAAc,YAAtD,kC,GA9BcC,IAAMC,WCejBC,EAnBI,SAAC,GAAgD,IAA9CH,EAA6C,EAA7CA,cAAeI,EAA8B,EAA9BA,WAAYL,EAAkB,EAAlBA,YAC/C,OAAIK,EAEA,qBAAKnB,UAAU,mBAAf,SACE,cAAC,EAAD,CAAac,YAAaA,EACxBC,cAAeA,MAKnB,sBAAKf,UAAU,mBAAf,UACE,mBAAGa,QAAS,kBAAME,EAAc,WAAWf,UAAU,uDAArD,qBAEA,mBAAGa,QAAS,kBAAME,EAAc,aAAaf,UAAU,2DAAvD,0B,kBChBO,MAA0B,oCCiB1BoB,G,OAZF,WACZ,OACC,qBAAKpB,UAAU,mCAAf,SACC,cAAC,IAAD,CAAMA,UAAU,oBAAoBqB,QAAS,CAAEC,IAAK,IAAMZ,MAAO,CAAEa,OAAQ,GAAIC,MAAO,IAAtF,SACC,qBAAKxB,UAAU,iBAAf,SACC,qBAAKO,IAAI,YAAYD,IAAKmB,EAAMf,MAAO,CAAEgB,aAAc,sB,QCoB7CC,EA3BF,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACd,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAcA,OAJAC,qBAAU,WACOJ,EAAKK,QARpBC,MAAMC,wEAA8CP,EAAKK,SACtDG,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAG,GACJR,EAASQ,EAAKC,UAEfC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,EAAK,6BAKhC,CAACd,EAAKK,UAEP,8BACE,sBAAKjC,UAAU,mBAAf,UACE,uBAAMA,UAAU,KAAhB,UAAsB4B,EAAKiB,KAAOjB,EAAKiB,KAAOjB,EAAKkB,SAAnD,OADF,8BAEE,uBAAM9C,UAAU,KAAhB,cAAuB4B,EAAKK,WAC3B,WACD,sBAAMjC,UAAU,KAAhB,SAAsB8B,UCZfiB,G,OATC,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SAChB,OACE,qBAAKhD,UAAU,SAASU,MAAOsC,EAAW,CAAE,QAAW,gBAAmB,CAAE,QAAW,YC8F5EC,G,yDA7Fb,WAAYvD,GAAQ,IAAD,8BACjB,cAAMA,IAQRwD,aAAe,SAACC,GACd,EAAKvD,SAAS,CAAEwD,WAAYD,EAAME,OAAOC,SAVxB,EAYnBC,iBAAmB,SAACJ,GAClB,EAAKvD,SAAS,CAAE4D,eAAgBL,EAAME,OAAOC,SAb5B,EAenBG,UAAY,SAACN,GACQ,UAAfA,EAAMO,MACR,EAAKC,kBAjBU,EAoBnBC,uBAAyB,SAACC,GACxBC,OAAOC,aAAaC,QAAQ,QAASH,IArBpB,EAuBnBF,eAAiB,WACf,EAAK/D,SAAS,CAAEoD,UAAU,EAAMiB,cAAe,KAC/C/B,MAAM,GAAD,OAAIC,oCAAJ,WAA4C,CAC/C+B,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBxB,SAAU,EAAK/C,MAAMqD,WACrBmB,SAAU,EAAKxE,MAAMyD,mBAGtBpB,MAAK,SAAAoC,GAAG,OAAIA,EAAIlC,UAChBF,MAAK,SAAAG,GACAA,EAAKkC,QAA0B,SAAhBlC,EAAKmC,QACtB,EAAKd,uBAAuBrB,EAAKsB,OACjC3B,MAAM,GAAD,OAAIC,oCAAJ,oBAA6CI,EAAKkC,QAAU,CAC/DP,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChB,cAAiB5B,EAAKsB,SAGvBzB,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAG,GACAA,GAAQA,EAAKO,WACf,EAAKpD,MAAMiF,SAASpC,GACpB,EAAK7C,MAAMqB,cAAc,YAG5B0B,MAAME,QAAQC,OAGjB,EAAKhD,SAAS,CAAEoD,UAAU,IAC1B,EAAKpD,SAAS,CAAEqE,cAAe,oCArDrC,EAAKlE,MAAQ,CACXqD,WAAY,GACZI,eAAgB,GAChBR,UAAU,EACViB,cAAe,IANA,E,0CA4DnB,WACE,IAAQlD,EAAkBZ,KAAKT,MAAvBqB,cACR,OACE,sBAAMf,UAAU,sBAAhB,SACE,qBAAKA,UAAU,6FAAf,SACE,sBAAKA,UAAU,UAAUyD,UAAWtD,KAAKsD,UAAzC,UACE,2BAAUmB,GAAG,UAAU5E,UAAU,4BAAjC,UACE,wBAAQA,UAAU,iBAAlB,qBACA,sBAAKA,UAAU,MAAf,UACE,uBAAOA,UAAU,oBAAoB6E,QAAQ,OAA7C,kBACA,uBAAO7E,UAAU,4EAA4E8E,KAAK,OAAOjC,KAAK,OAAO+B,GAAG,OAAOG,UAAQ,EAACC,aAAa,MAAMC,SAAU9E,KAAK+C,kBAE5K,sBAAKlD,UAAU,MAAf,UACE,uBAAOA,UAAU,oBAAoB6E,QAAQ,WAA7C,sBACA,uBAAO7E,UAAU,8EAA8E8E,KAAK,WAAWjC,KAAK,WAAW+B,GAAG,WAAWG,UAAQ,EAACE,SAAU9E,KAAKoD,yBAGzK,sBAAKvD,UAAU,gDAAf,UACE,uBAAOA,UAAU,+EAA+E8E,KAAK,SAASxB,MAAM,UAClHzC,QAASV,KAAKwD,iBAChB,cAAC,EAAD,CAASX,SAAU7C,KAAKJ,MAAMiD,cAEhC,qBAAKhD,UAAU,UAAf,SACE,mBAAGa,QAAS,kBAAME,EAAc,aAAaf,UAAU,6CAAvD,wBAEF,mBAAGA,UAAU,cAAb,SAA4BG,KAAKJ,MAAMkE,2B,GAtF9BjD,IAAMC,YCyFZiE,G,yDAxFb,WAAYxF,GAAQ,IAAD,8BACjB,cAAMA,IASR6D,iBAAmB,SAACJ,GAClB,EAAKvD,SAAS,CAAE2E,SAAUpB,EAAME,OAAOC,SAXtB,EAanBJ,aAAe,SAACC,GACd,EAAKvD,SAAS,CAAEkD,SAAUK,EAAME,OAAOC,SAdtB,EAgBnBG,UAAY,SAACN,GACQ,UAAfA,EAAMO,MACR,EAAKyB,oBAlBU,EAoBnBvB,uBAAyB,SAACC,GACxBC,OAAOC,aAAaC,QAAQ,QAASH,IArBpB,EAuBnBsB,iBAAmB,WACjB,EAAKvF,SAAS,CAAEoD,UAAU,EAAMiB,cAAe,KAC/C/B,MAAMC,6CAA6C,CACjD+B,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBxB,SAAU,EAAK/C,MAAM+C,SACrByB,SAAU,EAAKxE,MAAMwE,aAGtBnC,MAAK,SAAAoC,GAAG,OAAIA,EAAIlC,UAChBF,MAAK,SAAAG,GACAA,EAAKkC,QAA0B,SAAhBlC,EAAKmC,QACtB,EAAKd,uBAAuBrB,EAAKsB,OACjC3B,MAAM,GAAD,OAAIC,oCAAJ,oBAA6CI,EAAKkC,QAAU,CAC/DP,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChB,cAAiB5B,EAAKsB,SAGvBzB,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAG,GACAA,GAAQA,EAAKO,WACf,EAAKpD,MAAMiF,SAASpC,GACpB,EAAK7C,MAAMqB,cAAc,YAG5B0B,MAAME,QAAQC,OAGjB,EAAKhD,SAAS,CAAEoD,UAAU,IAC1B,EAAKpD,SAAS,CAAEqE,cAAe,gCArDrC,EAAKlE,MAAQ,CACX+C,SAAU,GACVyB,SAAU,GACVvB,UAAU,EACViB,cAAe,IANA,E,0CA4DnB,WACE,OACE,sBAAMjE,UAAU,sBAAhB,SACE,qBAAKA,UAAU,gGAAf,SACE,sBAAKA,UAAU,UAAUyD,UAAWtD,KAAKsD,UAAzC,UACE,2BAAUmB,GAAG,UAAU5E,UAAU,4BAAjC,UACE,wBAAQA,UAAU,iBAAlB,sBACA,sBAAKA,UAAU,MAAf,UACE,uBAAOA,UAAU,oBAAoB6E,QAAQ,OAA7C,kBACA,uBAAO7E,UAAU,8EAA8E8E,KAAK,OAAOjC,KAAK,OAAO+B,GAAG,OAAOI,aAAa,MAAMD,UAAQ,EAACE,SAAU9E,KAAK+C,kBAE9K,sBAAKlD,UAAU,MAAf,UACE,uBAAOA,UAAU,oBAAoB6E,QAAQ,WAA7C,sBACA,uBAAO7E,UAAU,8EAA8E8E,KAAK,WAAWjC,KAAK,WAAW+B,GAAG,WAAWG,UAAQ,EAACE,SAAU9E,KAAKoD,yBAGzK,sBAAKvD,UAAU,6CAAf,UACE,uBAAOA,UAAU,kFAAkF8E,KAAK,SAASxB,MAAM,WAAWzC,QAASV,KAAKgF,mBAChJ,cAAC,EAAD,CAASnC,SAAU7C,KAAKJ,MAAMiD,cAEhC,mBAAGhD,UAAU,cAAb,SAA4BG,KAAKJ,MAAMkE,2B,GAjF5BjD,IAAMC,YCkCdmE,G,OApCS,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,OAC7BC,EAAc,SAACpC,GACLqC,SAASC,iBAAiB,iBAClCC,SAAQ,SAAAC,GAAG,OAAIA,EAAIC,UAAUjG,OAAO,WAEtCkG,EAAc,SAAC1C,GACLqC,SAASC,iBAAiB,iBAClCC,SAAQ,SAAAC,GAAG,OAAIA,EAAIC,UAAUjG,OAAO,WAE5C,OACE,sBAAKK,UAAU,OAAf,UACE,sBAAMA,UAAU,qBAAhB,SACGsF,EAAOQ,OAAS,EACfR,EAAOQ,OAAS,iBAAmB,qCAEvC,sBAAK9F,UAAU,mBAAf,UACE,qBAAK4E,GAAG,aAAa5E,UAAU,kBAAkBO,IAAI,GAAGD,IAAK+E,EAAU7D,MAAM,QAAQD,OAAO,SAG1F+D,EAAOQ,OAAS,EACdR,EAAOS,KAAI,SAACJ,EAAKK,GAAN,OACT,qBAAKC,aAAcV,EAAaW,aAAcL,EAC5C7F,UAAU,eAA2B,WAAUgG,EAC/CtF,MAAO,CACLyF,IAAKR,EAAIS,QAASC,KAAMV,EAAIW,SAC5B7F,MAAOkF,EAAIY,UAAWC,OAAQb,EAAIc,YAJtC,SAME,uBAAMzG,UAAU,UAAhB,UAA2B2F,EAAI9C,KAA/B,MAAwC8C,EAAIrC,MAAMoD,WAAWC,MAAM,EAAG,OALxCX,MAOhC,aCNCY,G,mKArBb,WACE,OACE,gCACE,mBAAG5G,UAAU,SAAb,SACG,iEAEH,qBAAKA,UAAU,kBAAf,SACE,sBAAKA,UAAU,yBAAf,UACE,uBAAOA,UAAU,cAAc8E,KAAK,OAAO+B,YAAY,kBAAkB5B,SAAU9E,KAAKT,MAAMoH,gBAC9F,wBAAQ9G,UAAU,4CAA4Ca,QAASV,KAAKT,MAAMqH,eAAlF,8B,+BAOV,gB,GAjB0B/F,IAAMC,YCsBnB+F,EAxBA,WAEb,OACE,yBAAQhH,UAAU,kFAAlB,UACE,mBAAGA,UAAU,0BAAb,sEACA,sBAAKA,UAAU,oCAAf,UACE,oBAAGA,UAAU,UAAb,wBAAkC,mBAAGiH,KAAK,4BAAR,yBAClC,mBAAGjH,UAAU,aAAaiH,KAAK,+CAA+CC,MAAM,cAApF,SACE,sBAAKlH,UAAU,MAAM,YAAU,SAASmH,QAAQ,YAAhD,UACE,gDACA,sBAAMC,EAAE,sWAGZ,mBAAGpH,UAAU,aAAaiH,KAAK,2BAA2BC,MAAM,eAAhE,SACE,sBAAK,YAAU,WAAWC,QAAQ,YAAlC,UACE,kDACA,sBAAMC,EAAE,wjB,kBCddC,G,OAAY7B,SAAS8B,eAAe,eAoB3BC,E,kDAjBb,WAAY7H,GAAQ,IAAD,8BACjB,cAAMA,IACD8H,GAAKhC,SAASiC,cAAc,OAFhB,E,qDAKnB,WACEJ,EAAUK,YAAYvH,KAAKqH,M,kCAE7B,WACEH,EAAUM,YAAYxH,KAAKqH,M,oBAE7B,WACE,OAAOI,IAASC,aAAa1H,KAAKT,MAAMoI,SAAU3H,KAAKqH,Q,GAbvCxG,IAAMC,WCgEX8G,G,OAlEC,SAAC,GAAmD,EAAjDC,cAAkD,IAAnClH,EAAkC,EAAlCA,YAAac,EAAqB,EAArBA,KAAM+C,EAAe,EAAfA,SACnD,EAA8B9C,mBAAS,CAAEgB,KAAMjB,EAAKiB,KAAMoF,MAAOrG,EAAKqG,MAAOC,IAAKtG,EAAKsG,MAAvF,mBAAOC,EAAP,KAAgBC,EAAhB,KAkBA,OACE,qBAAKpI,UAAU,gBAAf,SACE,uBAAMA,UAAU,qGAAhB,UACE,qBAAKA,UAAU,mEACba,QAASC,EADX,kBAEA,qBAAKR,IAAI,kCACPN,UAAU,mBAAmBO,IAAI,WACnC,6BAAK4H,EAAQtF,OACb,oBAAI7C,UAAU,IAAd,SAAmB4B,EAAKkB,WACxB,mDAAsBlB,EAAKK,WAC3B,+CAAkB,IAAIoG,KAAKzG,EAAK0G,QAAQC,wBACxC,uBACA,uBAAOvI,UAAU,qBAAqB6E,QAAQ,WAA9C,kBACA,uBACE7E,UAAU,YAAY8E,KAAK,OAAOjC,KAAK,OAAO+B,GAAG,OAAOI,aAAa,MACrEwD,aAAc5G,EAAKiB,KACnBkC,UAAQ,EACRE,SAAU,SAACwD,GAAD,OAAOL,EAAW,2BAAKD,GAAN,IAAetF,KAAM4F,EAAEpF,OAAOC,YAE3D,uBAAOtD,UAAU,qBAAqB6E,QAAQ,QAA9C,mBACA,uBACE7E,UAAU,cAAc8E,KAAK,QAAQjC,KAAK,QAAQ+B,GAAG,QAAQI,aAAa,MAC1EwD,aAAc5G,EAAKqG,MACnBlD,UAAQ,EACRE,SAAU,SAACwD,GACTL,EAAW,2BAAKD,GAAN,IAAeF,MAAOQ,EAAEpF,OAAOC,YAE7C,uBAAOtD,UAAU,wBAAwB6E,QAAQ,MAAjD,iBACA,uBACE7E,UAAU,YAAY8E,KAAK,OAAOjC,KAAK,MAAM+B,GAAG,MAAMI,aAAa,MACnEwD,aAAc5G,EAAKsG,IACnBnD,UAAQ,EACRE,SAAU,SAACwD,GAAD,OAAOL,EAAW,2BAAKD,GAAN,IAAeD,IAAKO,EAAEpF,OAAOC,YAC1D,sBAAKtD,UAAU,2BAAf,UACE,wBAAQA,UAAU,gEAChBa,QAnDY,WACpBqB,MAAMC,6CAA8CP,EAAKgD,GAAI,CAC3DV,OAAQ,OACRC,QAAS,CACP,eAAgB,mBAChB,cAAiBL,OAAOC,aAAa2E,QAAQ,UAE/CtE,KAAMC,KAAKC,UAAU6D,KACpB/F,MAAK,SAAAC,GAGN,OAFAvB,IACA6D,EAAS,2BAAK/C,GAASuG,IAChB9F,EAAKC,UAEXG,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,EAAM,uBAAyBd,EAAKgD,QAqC1D,kBAEA,wBAAQ5E,UAAU,+DAChBa,QAASC,EADX,8BC7CJ6H,G,OAAmB,CACvBC,UAAW,CACTC,OAAQ,CACNvF,MAAO,GACPwF,QAAS,CACPC,QAAQ,EACRC,WAAY,MAGhBC,KAAM,CACJC,MAAO,IAETjB,MAAO,CACL3E,MAAO,QAET6F,MAAO,CACLlB,MAAO,OACPmB,SAAU,IACVL,QAAQ,EACRM,QAAS,GACT7H,MAAO,MAKP8H,EAAe,CACnB9G,MAAO,mCACP6C,SAAU,GACVC,OAAQ,GACRiE,MAAO,SACPpI,YAAY,EACZ6G,eAAe,EACfpG,KAAM,CACJgD,GAAI,GACJ9B,SAAU,GACVD,KAAM,IACNZ,QAAS,EACTqG,OAAQ,GACRJ,IAAK,aACLD,MAAO,YAwLIuB,E,kDAlLb,aAAe,IAAD,8BACZ,gBAqCF7E,SAAW,SAACpC,GACV,EAAK3C,SAAS,CACZgC,KAAM,CACJgD,GAAIrC,EAAKqC,GACT/B,KAAMN,EAAKM,KACXqF,IAAK3F,EAAK2F,IACVD,MAAO1F,EAAK0F,MACZnF,SAAUP,EAAKO,SACfb,QAASM,EAAKN,QACdqG,OAAQ/F,EAAK+F,WA/CL,EAoDdmB,qBAAuB,SAAClH,GACtB,IAAKA,IAASA,EAAKmH,QAAS,MAAO,GACnC/G,QAAQC,IAAIL,GACZ,IAAMoH,EAAepH,EAAKmH,QAAQ,GAAGnH,KAAKqH,QAAQ7D,KAAI,SAAA8D,GAAG,MAAK,CAC5DC,KAAMD,EAAIE,YAAYC,aACtBnH,KAAMgH,EAAItH,KAAK0H,SAAS,GAAGpH,KAC3BS,MAAOuG,EAAItH,KAAK0H,SAAS,GAAG3G,UAGxB4G,EAAQ1E,SAAS8B,eAAe,cAChC9F,EAAQ2I,OAAOD,EAAM1I,OACrBD,EAAS4I,OAAOD,EAAM3I,QAC5B,OAAOoI,EAAaS,QAAO,SAAAC,GAAC,OAAIA,EAAE/G,MAAQ,MAAKyC,KAAI,SAAAJ,GAAG,MAAK,CACzDW,SAAUX,EAAImE,KAAKxD,SAAW9E,EAC9B4E,QAAST,EAAImE,KAAK1D,QAAU7E,EAC5BgF,UAAW/E,EAASmE,EAAImE,KAAKvD,UAAY/E,EACzCiF,WAAYlF,EAAUoE,EAAImE,KAAKrD,WAAalF,EAC5CsB,KAAM8C,EAAI9C,KACVS,MAAOqC,EAAIrC,WAtED,EA0EdgH,eAAiB,SAAChF,GAChB,EAAK1F,SAAS,CAAE0F,OAAQA,KA3EZ,EA8EdwB,cAAgB,SAAC3D,GACf,EAAKvD,SAAS,CAAE4C,MAAOW,EAAME,OAAOC,SA/ExB,EAkFdyD,eAAiB,WACf,IAAMlD,EAAQC,OAAOC,aAAa2E,QAAQ,SAC1C,EAAK9I,SAAS,CAAEyF,SAAU,EAAKtF,MAAMyC,QACrCN,MAAMC,6CAA6C,CACjD+B,OAAQ,OACRC,QAAS,CACP,eAAgB,mBAChB,cAAiBN,GAEnBO,KAAMC,KAAKC,UAAU,CACnB9B,MAAO,EAAKzC,MAAMyC,UAGnBJ,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MACC,SAAAmI,GACMA,GACFrI,MAAMC,0CAA0C,CAC9C+B,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChB,cAAiBN,GAEnBO,KAAMC,KAAKC,UAAU,CACnBM,GAAI,EAAK7E,MAAM6B,KAAKgD,OAGrBxC,MAAK,SAAAoC,GAAG,OAAIA,EAAIlC,UAChBF,MAAK,SAAAoI,GACJ,EAAK5K,SAAS6K,OAAOC,OAAO,EAAK3K,MAAM6B,KAAM,CAAEK,QAASuI,GAAS,CAAC,KAAM,gBAEzE/H,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAE9B,EAAK4H,eAAe,EAAKb,qBAAqBc,OAEjD9H,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OArHhB,EAwHd3B,cAAgB,SAACwI,GACD,YAAVA,GACFrH,MAAMC,oDAAoD,CACxD+B,OAAQ,OACRC,QAAS,CACP,eAAgB,mBAChB,cAAiBL,OAAOC,aAAa2E,QAAQ,YAGjD5E,OAAOC,aAAa4G,WAAW,SAC/B,EAAK/K,SAAS0J,IAEG,SAAVC,GACP,EAAK3J,SAAS,CAAEuB,YAAY,IAC9B,EAAKvB,SAAS,CAAE2J,MAAOA,KAtIX,EAyIdzI,YAAc,WACZ,EAAKlB,UAAS,SAAAC,GAAS,kCAClBA,GADkB,IAErBmI,eAAgBnI,EAAUmI,oBA1I5B,EAAKjI,MAAQuJ,EAFD,E,qDAKd,WAAqB,IAAD,OACZzF,EAAQC,OAAOC,aAAa2E,QAAQ,SACtC7E,GACF3B,MAAM,GAAD,OAAIC,oCAAJ,WAA4C,CAC/C+B,OAAQ,OACRC,QAAS,CACP,eAAgB,mBAChB,cAAiBN,KAGlBzB,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAG,GACAA,GAAQA,EAAKqC,IACf1C,MAAM,GAAD,OAAIC,oCAAJ,oBAA6CI,EAAKqC,IAAM,CAC3DV,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChB,cAAiBN,KAGlBzB,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAG,GACAA,GAAQA,EAAKO,WACf,EAAK6B,SAASpC,GACd,EAAKxB,cAAc,YAGtB0B,MAAME,QAAQC,QAGpBH,MAAME,QAAQC,O,oBA6GrB,WACE,MAAqEzC,KAAKJ,MAAlEoB,EAAR,EAAQA,WAAYkE,EAApB,EAAoBA,SAAUkE,EAA9B,EAA8BA,MAAOjE,EAArC,EAAqCA,OAAQ0C,EAA7C,EAA6CA,cAAepG,EAA5D,EAA4DA,KAC5D,OACE,sBAAK5B,UAAU,MAAf,UACE,cAAC,IAAD,CAAWA,UAAU,YACnB4K,OAAQjC,IAEV,cAAC,EAAD,CAAY5H,cAAeZ,KAAKY,cAAeI,WAAYA,EAAYL,YAAaX,KAAKW,cAExFkH,GAAiB,cAAC,EAAD,UAChB,cAAC,EAAD,CACEA,cAAeA,EAAelH,YAAaX,KAAKW,YAAac,KAAMA,EAAM+C,SAAUxE,KAAKwE,aAEjF,SAAV4E,EACC,qCACE,cAAC,EAAD,CAAMvJ,UAAU,OAChB,iCACE,cAAC,EAAD,CAAM4B,KAAMzB,KAAKJ,MAAM6B,OACvB,cAAC,EAAD,CAAekF,cAAe3G,KAAK2G,cAAeC,eAAgB5G,KAAK4G,iBACvE,cAAC,EAAD,CAAiB1B,SAAUA,EAAUC,OAAQA,UAGpC,aAAViE,EACD,cAAC,EAAD,CAAU5E,SAAUxE,KAAKwE,SAAU5D,cAAeZ,KAAKY,gBAEvD,cAAC,EAAD,CAAQ4D,SAAUxE,KAAKwE,SAAU5D,cAAeZ,KAAKY,gBAGzD,cAAC,EAAD,W,GA7KUE,aClDlB2G,IAASiD,OACL,cAAC,EAAD,IACArF,SAAS8B,eAAe,W","file":"static/js/main.7e68ed56.chunk.js","sourcesContent":["import React from 'react';\r\nimport {\r\n  Dropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem\r\n} from 'reactstrap'\r\nclass ProfileIcon extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      dropdownOpen: false\r\n    }\r\n  }\r\n  toggle = () => {\r\n    this.setState(prevState => ({\r\n      dropdownOpen: !prevState.dropdownOpen\r\n    }));\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"pr4 pt4 tc\">\r\n        <Dropdown isOpen={this.state.dropdownOpen} toggle={this.toggle}>\r\n          <DropdownToggle\r\n            tag=\"span\"\r\n            data-toggle=\"dropdown\"\r\n            aria-expanded={this.state.dropdownOpen}\r\n          >\r\n            <img\r\n              src=\"http://tachyons.io/img/logo.jpg\"\r\n              className=\"br-100 ba w3 dib\" alt=\"avatar\" />\r\n          </DropdownToggle>\r\n          <DropdownMenu\r\n            right\r\n            className=\"shadow-5 mt4\"\r\n            style={{ background: 'rgba(255, 255, 255, .5)' }}>\r\n            <DropdownItem onClick={this.props.toggleModal} >View Profile</DropdownItem>\r\n            <DropdownItem onClick={() => this.props.onRouteChange('signout')}>Sign Out</DropdownItem>\r\n          </DropdownMenu>\r\n        </Dropdown>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProfileIcon;","import React from 'react'\r\nimport ProfileIcon from '../ProfileIcon/ProfileIcon'\r\n\r\nconst Navigation = ({ onRouteChange, isSignedin, toggleModal }) => {\r\n  if (isSignedin)\r\n    return (\r\n      <nav className=\"flex justify-end\">\r\n        <ProfileIcon toggleModal={toggleModal}\r\n          onRouteChange={onRouteChange} />\r\n      </nav>\r\n    );\r\n  else\r\n    return (\r\n      <nav className=\"flex justify-end\">\r\n        <p onClick={() => onRouteChange('signin')} className='f5 b link dim black-70 underline ph3 pointer mt3 mb0'>Sign in</p>\r\n\r\n        <p onClick={() => onRouteChange('register')} className='f5 b link dim black-70 underline ph3 pointer mt3 mb0 mr3'>Register</p>\r\n      </nav>\r\n    );\r\n\r\n}\r\n\r\nexport default Navigation;","export default __webpack_public_path__ + \"static/media/charlie.dc2d47db.jpg\";","import React from 'react'\r\nimport Tilt from 'react-tilt';\r\nimport face from './charlie.jpg'\r\nimport './Logo.css'\r\n\r\nconst Logo = () => {\r\n\treturn (\r\n\t\t<div className='absolute top-0 left-0 ml4 mt4 w4'>\r\n\t\t\t<Tilt className=\"Tilt br3 shadow-2\" options={{ max: 35 }} style={{ height: 96, width: 96 }} >\r\n\t\t\t\t<div className=\"Tilt-inner pa3\">\r\n\t\t\t\t\t<img alt='face logo' src={face} style={{ mixBlendMode: \"multiply\" }} />\r\n\t\t\t\t</div>\r\n\t\t\t</Tilt>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Logo;","import React, { useState, useEffect } from 'react'\r\n\r\n\r\nconst Rank = ({ user }) => {\r\n  const [emoji, setEmoji] = useState('');\r\n\r\n  const generateEmojis = (entries) => {\r\n    fetch(process.env.REACT_APP_AWS_LAMBDA + '?rank=' + user.entries)\r\n      .then(resp => resp.json())\r\n      .then(data => {\r\n        setEmoji(data.input)\r\n      })\r\n      .catch(err => console.log(err, 'unable to fetch rank'));\r\n  }\r\n  useEffect(() => {\r\n    generateEmojis(user.entries);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [user.entries])\r\n  return (\r\n    <div>\r\n      <div className='white f5 mh3 mt4'>\r\n        <span className=\"f3\">{user.name ? user.name : user.username} </span>your current entry count is\r\n        <span className=\"f3\"> {user.entries}</span>\r\n        {' - rank:'}\r\n        <span className=\"f3\">{emoji}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Rank;","import React from 'react';\r\nimport './Spinner.css';\r\n\r\nconst Spinner = ({isActive}) => {\r\n  return (\r\n    <div className=\"loader\" style={isActive ? { \"display\": \"inline-block\" } : { \"display\": \"none\" }}>\r\n\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default Spinner;","import React from 'react';\r\nimport Spinner from '../Spinner/Spinner';\r\nimport './Signin.css';\r\n\r\n\r\nclass Signin extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      signInUser: '',\r\n      signInPassword: '',\r\n      isActive: false,\r\n      failedmessage: ''\r\n    }\r\n  }\r\n  onUserChange = (event) => {\r\n    this.setState({ signInUser: event.target.value });\r\n  }\r\n  onPasswordChange = (event) => {\r\n    this.setState({ signInPassword: event.target.value });\r\n  }\r\n  onKeyDown = (event) => {\r\n    if (event.code === \"Enter\")\r\n      this.onSubmitSignIn()\r\n  }\r\n\r\n  saveAuthTokeninSession = (token) => {\r\n    window.localStorage.setItem('token', token);\r\n  }\r\n  onSubmitSignIn = () => {\r\n    this.setState({ isActive: true, failedmessage: \"\" });\r\n    fetch(`${process.env.REACT_APP_API_URL}/signin`, {\r\n      method: 'post',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        username: this.state.signInUser,\r\n        password: this.state.signInPassword\r\n      })\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (data.userId && data.succes === 'true') {\r\n          this.saveAuthTokeninSession(data.token);\r\n          fetch(`${process.env.REACT_APP_API_URL}/profile/${data.userId}`, {\r\n            method: 'get',\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              \"Authorization\": data.token\r\n            }\r\n          })\r\n            .then(resp => resp.json())\r\n            .then(data => {\r\n              if (data && data.username) {\r\n                this.props.loadUser(data);\r\n                this.props.onRouteChange('home');\r\n              }\r\n            })\r\n            .catch(console.log);\r\n        }\r\n        else {\r\n          this.setState({ isActive: false });\r\n          this.setState({ failedmessage: \"Wrong username or password\" })\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { onRouteChange } = this.props;\r\n    return (\r\n      <main className=\"flex justify-center\">\r\n        <div className=\"pa4 pb2 hover-black-80 br3 ba shadow-5 b--black-20 bg-white-30 mb2 w-100 w-70-m w-30-l mw6\">\r\n          <div className=\"measure\" onKeyDown={this.onKeyDown}>\r\n            <fieldset id=\"sign_up\" className=\"ba b--transparent ph0 mh0\">\r\n              <legend className=\"f2 fw3 ph0 mh0\">Sign In</legend>\r\n              <div className=\"mt3\">\r\n                <label className=\"db fw6 lh-copy f6\" htmlFor=\"user\">User</label>\r\n                <input className=\"pa2 input-reset ba bg-transparent hover-bg-black-50 hover-white mw5 w-100\" type=\"text\" name=\"user\" id=\"user\" required autoComplete=\"off\" onChange={this.onUserChange} />\r\n              </div>\r\n              <div className=\"mv3\">\r\n                <label className=\"db fw6 lh-copy f6\" htmlFor=\"password\">Password</label>\r\n                <input className=\"b pa2 input-reset ba bg-transparent hover-bg-black-50 hover-white mw5 w-100\" type=\"password\" name=\"password\" id=\"password\" required onChange={this.onPasswordChange} />\r\n              </div>\r\n            </fieldset>\r\n            <div className=\"relative flex items-center justify-center pb2\">\r\n              <input className=\"b ph3 pv2 input-reset ba bw1 br3 b--black bg-transparent grow pointer f6 dib\" type=\"submit\" value=\"Sign in\"\r\n                onClick={this.onSubmitSignIn} />\r\n              <Spinner isActive={this.state.isActive} />\r\n            </div>\r\n            <div className=\"lh-copy\">\r\n              <p onClick={() => onRouteChange('register')} className=\"f6 underline pointer link dim dark-gray db\">Register</p>\r\n            </div>\r\n            <p className=\"f6 dark-red\">{this.state.failedmessage}</p>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Signin;","import React from 'react'\r\nimport Spinner from '../Spinner/Spinner';\r\nimport './Register.css'\r\n\r\n\r\nclass Register extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n      isActive: false,\r\n      failedmessage: ''\r\n    }\r\n  }\r\n\r\n  onPasswordChange = (event) => {\r\n    this.setState({ password: event.target.value });\r\n  }\r\n  onUserChange = (event) => {\r\n    this.setState({ username: event.target.value });\r\n  }\r\n  onKeyDown = (event) => {\r\n    if (event.code === \"Enter\")\r\n      this.onSubmitRegister()\r\n  }\r\n  saveAuthTokeninSession = (token) => {\r\n    window.localStorage.setItem('token', token);\r\n  }\r\n  onSubmitRegister = () => {\r\n    this.setState({ isActive: true, failedmessage: \"\" });\r\n    fetch(process.env.REACT_APP_API_URL + '/register', {\r\n      method: 'post',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        username: this.state.username,\r\n        password: this.state.password,\r\n      })\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (data.userId && data.succes === 'true') {\r\n          this.saveAuthTokeninSession(data.token);\r\n          fetch(`${process.env.REACT_APP_API_URL}/profile/${data.userId}`, {\r\n            method: 'get',\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              \"Authorization\": data.token\r\n            }\r\n          })\r\n            .then(resp => resp.json())\r\n            .then(data => {\r\n              if (data && data.username) {\r\n                this.props.loadUser(data);\r\n                this.props.onRouteChange('home');\r\n              }\r\n            })\r\n            .catch(console.log);\r\n        }\r\n        else {\r\n          this.setState({ isActive: false });\r\n          this.setState({ failedmessage: \"Something is not right\" })\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <main className=\"flex justify-center\">\r\n        <div className=\"pa4 pb3 black-80 br3 ba shadow-5 b--black-10  bg-white-30 mb2 w-100 w-70-m w-30-l mw6 center \">\r\n          <div className=\"measure\" onKeyDown={this.onKeyDown}>\r\n            <fieldset id=\"sign_up\" className=\"ba b--transparent ph0 mh0\">\r\n              <legend className=\"f2 fw3 ph0 mh0\">Register</legend>\r\n              <div className=\"mv3\">\r\n                <label className=\"db fw6 lh-copy f6\" htmlFor=\"user\">User</label>\r\n                <input className=\"b pa2 input-reset ba bg-transparent hover-bg-black-50 hover-white mw5 w-100\" type=\"text\" name=\"user\" id=\"user\" autoComplete=\"off\" required onChange={this.onUserChange} />\r\n              </div>\r\n              <div className=\"mv3\">\r\n                <label className=\"db fw6 lh-copy f6\" htmlFor=\"password\">Password</label>\r\n                <input className=\"b pa2 input-reset ba bg-transparent hover-bg-black-50 hover-white mw5 w-100\" type=\"password\" name=\"password\" id=\"password\" required onChange={this.onPasswordChange} />\r\n              </div>\r\n            </fieldset>\r\n            <div className=\"relative  flex items-center justify-center\">\r\n              <input className=\"b ph3 pv2 input-reset ba bw1 br3 b--black-50 bg-transparent grow pointer f6 dib\" type=\"submit\" value=\"Register\" onClick={this.onSubmitRegister} />\r\n              <Spinner isActive={this.state.isActive} />\r\n            </div>\r\n            <p className=\"f6 dark-red\">{this.state.failedmessage}</p>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Register;","import React from 'react'\r\nimport './FaceRecognition.css'\r\n\r\nconst FaceRecognition = ({ imageUrl, boxArr }) => {\r\n  const handleEnter = (event) => {\r\n    const boxes = document.querySelectorAll('.bounding-box')\r\n    boxes.forEach(box => box.classList.toggle('dim'));\r\n  }\r\n  const handleLeave = (event) => {\r\n    const boxes = document.querySelectorAll('.bounding-box')\r\n    boxes.forEach(box => box.classList.toggle('dim'));\r\n  }\r\n  return (\r\n    <div className=' mb2'>\r\n      <span className=\"db white-80 f6 mb2\">\r\n        {boxArr.length > 1 ?\r\n          boxArr.length + ' swag detected' : 'https://i.imgur.com/GEjml4N.jpeg'}\r\n      </span>\r\n      <div className='relative mh3 dib'>\r\n        <img id='inputImage' className='br3 db shadow-2' alt='' src={imageUrl} width='900px' height='auto' />\r\n\r\n        {\r\n          boxArr.length > 0 ?\r\n            boxArr.map((box, index) =>\r\n              <div onMouseEnter={handleEnter} onMouseLeave={handleLeave}\r\n                className=\"bounding-box\" key={index} data-key={index}\r\n                style={{\r\n                  top: box.top_row, left: box.left_col,\r\n                  right: box.right_col, bottom: box.bottom_row\r\n                }}>\r\n                <span className=\"tag-box\">{box.name} - {box.value.toString().slice(0, 4)}</span>\r\n              </div>)\r\n            : null\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FaceRecognition;","import React from 'react'\r\nimport './ImageLinkForm.css'\r\n\r\n\r\nclass ImageLinkForm extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <p className='f5 ph5'>\r\n          {'Check your fashion sense with this apparel image classifier.'}\r\n        </p>\r\n        <div className=\"centerInput ma3\">\r\n          <div className='form pa4  br3 shadow-2'>\r\n            <input className=\"f5 pa2 w-70\" type='text' placeholder='Paste image url' onChange={this.props.onInputChange} />\r\n            <button className='w-30 grow f5 link  pa2 dib white bg-green' onClick={this.props.onButtonSubmit}>Detect</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    //this.props.onButtonSubmit();\r\n  }\r\n}\r\n\r\nexport default ImageLinkForm;","import React from 'react'\r\n\r\nconst Footer = () => {\r\n\r\n  return (\r\n    <footer className=\"w-100 flex  items-center  tl bg-white-10 near-black f7 relative bottom-0 left-0\">\r\n      <p className=\"dib mb0 ml3 pt2 pb2 mr3\">Built with React and Express with  PostgreSQL on Heroku.</p>\r\n      <div className=\"flex items-center ml-auto mb0 mr3\">\r\n        <p className=\"mr3 mb0\">Powered by <a href=\"https://www.clarifai.com/\">Clarifai</a></p>\r\n        <a className=\"w1 dib mh2\" href=\"https://github.com/felixHerder/facerecog-app\" title=\"github link\">\r\n          <svg className=\"dib\" data-icon=\"github\" viewBox=\"0 0 32 32\">\r\n            <title>github icon</title>\r\n            <path d=\"M0 18 C0 12 3 10 3 9 C2.5 7 2.5 4 3 3 C6 3 9 5 10 6 C12 5 14 5 16 5 C18 5 20 5 22 6 C23 5 26 3 29 3 C29.5 4 29.5 7 29 9 C29 10 32 12 32 18 C32 25 30 30 16 30 C2 30 0 25 0 18 M3 20 C3 24 4 28 16 28 C28 28 29 24 29 20 C29 16 28 14 16 14 C4 14 3 16 3 20 M8 21 A1.5 2.5 0 0 0 13 21 A1.5 2.5 0 0 0 8 21 M24 21 A1.5 2.5 0 0 0 19 21 A1.5 2.5 0 0 0 24 21 z\"></path>\r\n          </svg>\r\n        </a>\r\n        <a className=\"w1 dib mh2\" href=\"http://felixherder.space\" title=\"website link\">\r\n          <svg data-icon=\"dribbble\" viewBox=\"0 0 32 32\" >\r\n            <title>dribbble icon</title>\r\n            <path d=\"M16 0 A16 16 0 0 0 0 16 A16 16 0 0 0 16 32 A16 16 0 0 0 32 16 A16 16 0 0 0 16 0 M5 11.5 A12 12 0 0 1 11 5 A46 46 0 0 1 13.5 9.25 A46 46 0 0 1 5 11.5 M15 4 A12 12 0 0 1 21.5 5.25 A46 46 0 0 1 17 7.75 A50 50 0 0 0 15 4 M4 16 A50 50 0 0 0 15 13 A46 46 0 0 1 16 15.5 A26 26 0 0 0 6 22.5 A12 12 0 0 1 4 16 M18.5 11.5 A50 50 0 0 0 25 8 A12 12 0 0 1 28 13.75 A26 26 0 0 0 19.75 14.5 A50 50 0 0 0 18.5 11.5 M17 19.5 A46 46 0 0 1 18 28 A12 12 0 0 1 8.75 25.5 A22 22 0 0 1 17 19.5 M20.75 18.25 A22 22 0 0 1 28 17.75 A12 12 0 0 1 22 26.5 A50 50 0 0 0 20.75 18.25\"></path>\r\n          </svg>\r\n        </a>\r\n      </div>\r\n    </footer >\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './Modal.css';\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nclass Modal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.el = document.createElement('div');\r\n  }\r\n\r\n  componentDidMount() {\r\n    modalRoot.appendChild(this.el);\r\n  }\r\n  componentWillUnmount() {\r\n    modalRoot.removeChild(this.el);\r\n  }\r\n  render() {\r\n    return ReactDOM.createPortal(this.props.children, this.el);\r\n  }\r\n}\r\n\r\n\r\nexport default Modal;","import React, { useState } from 'react';\r\n\r\nimport './Profile.css';\r\n\r\nconst Profile = ({ isProfileOpen, toggleModal, user, loadUser }) => {\r\n  const [profile, setProfile] = useState({ name: user.name, color: user.color, pet: user.pet });\r\n\r\n  const updateProfile = () => {\r\n    fetch(process.env.REACT_APP_API_URL + '/profile/' + user.id, {\r\n      method: 'post',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        \"Authorization\": window.localStorage.getItem('token')\r\n      },\r\n      body: JSON.stringify(profile)\r\n    }).then(resp => {\r\n      toggleModal();\r\n      loadUser({ ...user, ...profile });\r\n      return resp.json();\r\n    })\r\n      .catch(err => console.log(err + \"cannot fetch profile\" + user.id));\r\n\r\n  }\r\n  return (\r\n    <div className=\"profile-modal\">\r\n      <main className=\"absolute pa4 black-80 br3 ba shadow-5 b--black-10  bg-white-90 mb2 w-100 w-70-m w-30-l mw6 center \">\r\n        <div className=\"f2 b absolute right-0 top-0 mr4 mt3 pointer black-50 hover-black\"\r\n          onClick={toggleModal}>&times;</div>\r\n        <img src=\"http://tachyons.io/img/logo.jpg\"\r\n          className=\"br-100 ba w3 dib\" alt=\"avatar\" />\r\n        <h1>{profile.name}</h1>\r\n        <h5 className=\"b\">{user.username}</h5>\r\n        <h4>Images submited: {user.entries}</h4>\r\n        <p>Member since: {new Date(user.joined).toLocaleDateString()}</p>\r\n        <hr />\r\n        <label className=\"mt2 fw6 lh-copy f6\" htmlFor=\"username\">Name</label>\r\n        <input\r\n          className=\"pa2 w-100\" type=\"text\" name=\"name\" id=\"name\" autoComplete=\"off\"\r\n          defaultValue={user.name}\r\n          required\r\n          onChange={(e) => setProfile({ ...profile, name: e.target.value })} />\r\n\r\n        <label className=\"mt2 fw6 lh-copy f6\" htmlFor=\"color\">Color</label>\r\n        <input\r\n          className=\"db pa2 w-20\" type=\"color\" name=\"color\" id=\"color\" autoComplete=\"off\"\r\n          defaultValue={user.color}\r\n          required\r\n          onChange={(e) => {\r\n            setProfile({ ...profile, color: e.target.value })\r\n          }} />\r\n        <label className=\"db mt2 fw6 lh-copy f6\" htmlFor=\"pet\">Pet</label>\r\n        <input\r\n          className=\"pa2 w-100\" type=\"text\" name=\"pet\" id=\"pet\" autoComplete=\"off\"\r\n          defaultValue={user.pet}\r\n          required\r\n          onChange={(e) => setProfile({ ...profile, pet: e.target.value })} />\r\n        <div className=\"mt4 flex justify-between\">\r\n          <button className=\"b pa2 grow pointer hover-white w-20 bg-light-blue b--black-20\"\r\n            onClick={updateProfile}>Save</button>\r\n          <button className=\"b pa2 grow pointer hover-white w-20 bg-light-red b--black-20\"\r\n            onClick={toggleModal}>\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default Profile;","import Navigation from './components/Navigation/Navigation';\nimport Logo from './components/Logo/Logo';\nimport Rank from './components/Rank/Rank';\nimport Signin from './components/Signin/Signin';\nimport Register from './components/Register/Register';\nimport FaceRecognition from './components/FaceRecognition/FaceRecognition';\nimport ImageLinkForm from './components/ImageLinkForm/ImageLinkForm';\nimport Footer from './components/Footer/Footer';\nimport Particles from 'react-particles-js';\nimport React, { Component } from 'react';\nimport Modal from './components/Modal/Modal';\nimport Profile from './components/Profile/Profile';\nimport './App.css';\n\nconst particlesOptions = {\n  particles: {\n    number: {\n      value: 70,\n      density: {\n        enable: true,\n        value_area: 800\n      }\n    },\n    move: {\n      speed: 0.2\n    },\n    color: {\n      value: \"#eee\",\n    },\n    links: {\n      color: \"#eee\",\n      distance: 150,\n      enable: true,\n      opacity: 0.3,\n      width: 1,\n    }\n  }\n};\n\nconst initialState = {\n  input: 'https://i.imgur.com/LYXjKN6.jpeg',\n  imageUrl: '',\n  boxArr: [],\n  route: 'signin',\n  isSignedin: false,\n  isProfileOpen: false,\n  user: {\n    id: \"\",\n    username: \"\",\n    name: ' ',\n    entries: 0,\n    joined: '',\n    pet: 'chupakapra',\n    color: '#555555'\n  }\n}\n\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = initialState;\n  }\n\n  componentDidMount() {\n    const token = window.localStorage.getItem('token');\n    if (token) {\n      fetch(`${process.env.REACT_APP_API_URL}/signin`, {\n        method: 'post',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": token\n        }\n      })\n        .then(resp => resp.json())\n        .then(data => {\n          if (data && data.id) {\n            fetch(`${process.env.REACT_APP_API_URL}/profile/${data.id}`, {\n              method: 'get',\n              headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": token\n              }\n            })\n              .then(resp => resp.json())\n              .then(data => {\n                if (data && data.username) {\n                  this.loadUser(data);\n                  this.onRouteChange('home');\n                }\n              })\n              .catch(console.log);\n          }\n        })\n        .catch(console.log);\n    }\n  }\n  loadUser = (data) => {\n    this.setState({\n      user: {\n        id: data.id,\n        name: data.name,\n        pet: data.pet,\n        color: data.color,\n        username: data.username,\n        entries: data.entries,\n        joined: data.joined\n      }\n    })\n  }\n\n  calculateBoxLocation = (data) => {\n    if (!data || !data.outputs) return {};\n    console.log(data);\n    const caiBboxArray = data.outputs[0].data.regions.map(reg => ({\n      bbox: reg.region_info.bounding_box,\n      name: reg.data.concepts[0].name,\n      value: reg.data.concepts[0].value\n    }));\n\n    const image = document.getElementById('inputImage');\n    const width = Number(image.width);\n    const height = Number(image.height);\n    return caiBboxArray.filter(b => b.value > 0.7).map(box => ({\n      left_col: box.bbox.left_col * width,\n      top_row: box.bbox.top_row * height,\n      right_col: width - (box.bbox.right_col * width),\n      bottom_row: height - (box.bbox.bottom_row * height),\n      name: box.name,\n      value: box.value\n    }));\n  }\n\n  displaySwagBox = (boxArr) => {\n    this.setState({ boxArr: boxArr })\n  }\n\n  onInputChange = (event) => {\n    this.setState({ input: event.target.value });\n  }\n\n  onButtonSubmit = () => {\n    const token = window.localStorage.getItem('token');\n    this.setState({ imageUrl: this.state.input });\n    fetch(process.env.REACT_APP_API_URL + '/imageurl', {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": token\n      },\n      body: JSON.stringify({\n        input: this.state.input\n      })\n    })\n      .then(resp => resp.json())\n      .then(\n        response => {\n          if (response) {\n            fetch(process.env.REACT_APP_API_URL + '/image', {\n              method: \"put\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": token\n              },\n              body: JSON.stringify({\n                id: this.state.user.id\n              })\n            })\n              .then(res => res.json())\n              .then(count => {\n                this.setState(Object.assign(this.state.user, { entries: count }, ['id', 'entries']));\n              })\n              .catch(err => console.log(err));\n          }\n          this.displaySwagBox(this.calculateBoxLocation(response));\n        })\n      .catch(err => console.log(err));\n  }\n\n  onRouteChange = (route) => {\n    if (route === 'signout') {\n      fetch(process.env.REACT_APP_API_URL + '/profile/signout', {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": window.localStorage.getItem('token')\n        }\n      });\n      window.localStorage.removeItem('token');\n      this.setState(initialState);\n    }\n    else if (route === 'home')\n      this.setState({ isSignedin: true });\n    this.setState({ route: route });\n  }\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      ...prevState,\n      isProfileOpen: !prevState.isProfileOpen\n    }));\n  }\n\n  render() {\n    const { isSignedin, imageUrl, route, boxArr, isProfileOpen, user } = this.state;\n    return (\n      <div className=\"App\" >\n        <Particles className=\"particles\"\n          params={particlesOptions}\n        />\n        <Navigation onRouteChange={this.onRouteChange} isSignedin={isSignedin} toggleModal={this.toggleModal}\n        />\n        {isProfileOpen && <Modal >\n          <Profile\n            isProfileOpen={isProfileOpen} toggleModal={this.toggleModal} user={user} loadUser={this.loadUser} />\n        </Modal>}\n        {route === 'home' ?\n          <>\n            <Logo className=\"fl\" />\n            <main>\n              <Rank user={this.state.user} />\n              <ImageLinkForm onInputChange={this.onInputChange} onButtonSubmit={this.onButtonSubmit} />\n              <FaceRecognition imageUrl={imageUrl} boxArr={boxArr} />\n            </main>\n          </>\n          : (route === 'register' ?\n            <Register loadUser={this.loadUser} onRouteChange={this.onRouteChange} />\n            :\n            <Signin loadUser={this.loadUser} onRouteChange={this.onRouteChange} />\n          )\n        }\n        <Footer />\n      </div>\n    )\n  }\n}\n\nexport default App;\n","\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'tachyons';\nimport './index.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}